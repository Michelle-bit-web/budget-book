export default class t{constructor(t,e){this._year=t,this._month=e,this._inputs=[],this._sum=0,this._html=this._generate_html()}month(){return this._month}year(){return this._year}html(){return this._html}_show_inputs(){document.querySelectorAll(".monatsliste ul").forEach(t=>t.remove());let t=document.createElement("ul");this._inputs.forEach(e=>t.insertAdjacentElement("beforeend",e.html())),document.querySelector(".monatsliste").insertAdjacentElement("afterbegin",t)}add_input(t){this._inputs.push(t),this._refresh()}_sort_inputs(){this._inputs.sort((t,e)=>t.date()>e.date()?-1:t.date()<e.date()?1:t.timestamp()>e.timestamp()?-1:1)}_do_balance(){let t=0;this._inputs.forEach(e=>{"einnahme"===e.type()?t+=e.amount():t-=e.amount()}),this._sum=t}_generate_html(){let t=document.createElement("article");t.setAttribute("class","monatsliste");let e=document.createElement("h2"),n=document.createElement("span");n.setAttribute("class","monat-jahr"),n.textContent=`${new Date(this._year,this._month-1).toLocaleString("de-DE",{month:"long",year:"numeric"})}`,e.insertAdjacentElement("afterbegin",n);let s=document.createElement("span");this._sum>=0?s.setAttribute("class","monatsbilanz positiv"):s.setAttribute("class"," monatsbilanz negativ"),e.insertAdjacentElement("beforeend",s),t.insertAdjacentElement("afterbegin",e),s.textContent=`${(this._sum/100).toFixed(2).replace(/\./,",")} â‚¬`;let r=document.createElement("ul");return this._inputs.forEach(t=>r.insertAdjacentElement("beforeend",t.html())),t.insertAdjacentElement("beforeend",r),t}_refresh(){this._sort_inputs(),this._do_balance(),this._html=this._generate_html()}};